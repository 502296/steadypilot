<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>SteadyPilot — Health Score</title>
<style>
:root{
--bg: #0b1220;
--text:#eaf0ff;
--muted:#b7c3e1;
--stroke:#223252;
--shadow: 0 18px 50px rgba(0,0,0,.45);
--radius: 18px;
--good:#34d399;
--warn:#fbbf24;
--bad:#fb7185;
}
*{box-sizing:border-box}
body{
margin:0;
font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
background: radial-gradient(1200px 600px at 20% 10%, rgba(125,211,252,.18), transparent 60%),
radial-gradient(900px 500px at 80% 20%, rgba(167,139,250,.16), transparent 65%),
linear-gradient(180deg, var(--bg), #070b14 60%, #060812);
color: var(--text);
}
.container{ max-width: 980px; margin:0 auto; padding: 24px 16px 80px; }
.top{
display:flex; align-items:center; justify-content:space-between; gap:12px;
padding: 6px 4px 18px;
}
.brand{ font-weight:900; letter-spacing:.2px; display:flex; gap:10px; align-items:center; }
.logo{
width:34px; height:34px; border-radius:12px;
background: linear-gradient(135deg, rgba(125,211,252,.95), rgba(167,139,250,.95));
position:relative;
}
.logo:after{
content:""; position:absolute; inset:9px; border-radius:10px;
background: rgba(7,11,20,.55); border:1px solid rgba(255,255,255,.14);
}
a{ color:inherit; text-decoration:none }
.btn{
display:inline-flex; align-items:center; justify-content:center;
padding: 10px 12px; border-radius: 12px;
border: 1px solid rgba(255,255,255,.12);
background: rgba(255,255,255,.06);
font-weight:800; font-size:14px;
}
.btn:hover{ background: rgba(255,255,255,.09); }
.grid{
display:grid;
grid-template-columns: 1fr 1fr;
gap: 14px;
margin-top: 12px;
}
@media (max-width: 900px){ .grid{ grid-template-columns:1fr; } }
.card{
border: 1px solid rgba(255,255,255,.10);
background: rgba(255,255,255,.035);
border-radius: var(--radius);
box-shadow: var(--shadow);
padding: 18px 16px;
}
h1{ margin: 6px 0 6px; font-size: 26px; letter-spacing:-.3px;}
p{ margin:0; color:var(--muted); }
label{ display:block; margin:12px 0 6px; color:var(--muted); font-weight:700; font-size:13px;}
input{
width:100%;
padding: 12px 12px;
border-radius: 12px;
border: 1px solid rgba(255,255,255,.12);
background: rgba(255,255,255,.05);
color: var(--text);
outline:none;
font-weight:700;
}
.row2{ display:grid; grid-template-columns:1fr 1fr; gap:10px; }
@media (max-width: 520px){ .row2{ grid-template-columns:1fr; } }

.primary{
width:100%;
margin-top: 14px;
padding: 12px 14px;
border-radius: 12px;
border: 0;
cursor:pointer;
font-weight:900;
color:#07101f;
background: linear-gradient(135deg, rgba(125,211,252,.95), rgba(167,139,250,.95));
}
.primary:active{ transform: translateY(1px); }

.scoreWrap{
display:flex; align-items:center; gap:16px; flex-wrap:wrap;
}
.ring{
width: 120px; height: 120px; border-radius: 50%;
display:grid; place-items:center;
background:
conic-gradient(var(--ring) calc(var(--p)*1%), rgba(255,255,255,.10) 0);
border: 1px solid rgba(255,255,255,.10);
}
.ringInner{
width: 92px; height: 92px; border-radius: 50%;
background: rgba(7,11,20,.55);
border: 1px solid rgba(255,255,255,.12);
display:grid; place-items:center;
text-align:center;
}
.scoreNum{ font-size:28px; font-weight:950; line-height:1; }
.scoreSmall{ font-size:12px; color:var(--muted); font-weight:800; }
.badge{
display:inline-flex; align-items:center;
padding: 6px 10px; border-radius:999px;
border: 1px solid rgba(255,255,255,.12);
background: rgba(255,255,255,.05);
font-weight:900; font-size:12px;
}
.good{ color:var(--good); }
.warn{ color:var(--warn); }
.bad{ color:var(--bad); }

.hint{ margin-top:10px; font-size:12px; color: rgba(183,195,225,.85); }
.oneLine{
margin-top: 10px;
font-weight:900;
font-size: 15px;
}
.breakdown{
margin-top: 12px;
display:grid;
gap:10px;
color:var(--muted);
font-weight:700;
font-size: 13px;
}
.bItem{
display:flex; justify-content:space-between; gap:10px;
padding-top:10px;
border-top: 1px dashed rgba(255,255,255,.12);
}
</style>
</head>
<body>
<div class="container">
<div class="top">
<div class="brand"><span class="logo"></span> SteadyPilot</div>
<div style="display:flex; gap:10px; flex-wrap:wrap;">
<a class="btn" href="index.html">← Back to Home</a>
</div>
</div>

<div class="grid">
<div class="card">
<h1>Restaurant Health Score</h1>
<p>Enter simple monthly numbers. We’ll calculate a calm, conservative score.</p>

<div class="row2">
<div>
<label>Monthly Revenue ($)</label>
<input id="revenue" type="number" placeholder="e.g. 45000" />
</div>
<div>
<label>Monthly Rent ($)</label>
<input id="rent" type="number" placeholder="e.g. 9000" />
</div>
</div>

<div class="row2">
<div>
<label>Monthly Labor Cost ($)</label>
<input id="labor" type="number" placeholder="e.g. 16000" />
</div>
<div>
<label>Food Cost %</label>
<input id="food" type="number" placeholder="e.g. 31" />
</div>
</div>

<button class="primary" onclick="calculate()">Analyze</button>
<div class="hint">Tip: This is v1. We keep it simple & trustworthy (no overwhelm).</div>
</div>

<div class="card">
<h1>Your Result</h1>
<div id="result" class="hint">Enter numbers and click Analyze.</div>
</div>
</div>
</div>

<script>
function clamp(n, min, max){ return Math.max(min, Math.min(max, n)); }

function pointsFromBands(value, bands){
// bands: [{max, pts}] ascending; last is default
for (const b of bands){
if (value <= b.max) return b.pts;
}
return bands[bands.length - 1].pts;
}

function calculate(){
const revenue = parseFloat(document.getElementById("revenue").value);
const rent = parseFloat(document.getElementById("rent").value);
const labor = parseFloat(document.getElementById("labor").value);
const foodPct = parseFloat(document.getElementById("food").value);

if (!revenue || !rent || !labor || !foodPct){
alert("Please fill all fields.");
return;
}

const rentRatio = (rent / revenue) * 100;
const laborRatio = (labor / revenue) * 100;

// Conservative net margin estimate (simple v1):
const netMargin = 100 - (rentRatio + laborRatio + foodPct);

// Each category: 0..25 points (conservative bands)
const rentPts = pointsFromBands(rentRatio, [
{ max: 10, pts: 25 },
{ max: 18, pts: 18 },
{ max: 1000, pts: 10 }
]);

const laborPts = (laborRatio >= 25 && laborRatio <= 30) ? 25
: (laborRatio <= 35 ? 18 : 10);

const foodPts = (foodPct >= 26 && foodPct <= 30) ? 25
: (foodPct <= 34 ? 18 : 10);

const marginPts = (netMargin >= 12) ? 25
: (netMargin >= 7 ? 18 : 10);

const score = clamp(Math.round(rentPts + laborPts + foodPts + marginPts), 0, 100);

let status = "Stable";
let cls = "good";
let ring = "var(--good)";
let onePriority = "Keep your core costs stable and protect margin with small weekly adjustments.";

if (score < 50){
status = "High Risk";
cls = "bad";
ring = "var(--bad)";
onePriority = "Focus on cash stability: reduce cost pressure (labor/food) before adding new expenses.";
} else if (score < 75){
status = "Moderate Risk";
cls = "warn";
ring = "var(--warn)";
onePriority = "Protect margin this month: tune portion sizes or pricing on your highest-volume items.";
}

const result = document.getElementById("result");
result.innerHTML = `
<div class="scoreWrap">
<div class="ring" style="--p:${score}; --ring:${ring};">
<div class="ringInner">
<div class="scoreNum">${score}</div>
<div class="scoreSmall">/ 100</div>
</div>
</div>
<div>
<div class="badge ${cls}">${status}</div>
<div class="oneLine">One clear priority:</div>
<div style="color:var(--muted); font-weight:800; margin-top:6px;">${onePriority}</div>
<div class="hint" style="margin-top:10px;">Based on simple industry benchmark bands for independent restaurants (v1).</div>
</div>
</div>

<div class="breakdown">
<div class="bItem"><span>Rent ratio</span><span>${rentRatio.toFixed(1)}% (${rentPts}/25)</span></div>
<div class="bItem"><span>Labor ratio</span><span>${laborRatio.toFixed(1)}% (${laborPts}/25)</span></div>
<div class="bItem"><span>Food cost</span><span>${foodPct.toFixed(1)}% (${foodPts}/25)</span></div>
<div class="bItem"><span>Net margin (estimate)</span><span>${netMargin.toFixed(1)}% (${marginPts}/25)</span></div>
</div>
`;
}
</script>
</body>
</html>
